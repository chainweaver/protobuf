{
  "swagger": "2.0",
  "info": {
    "title": "blockchainService.proto",
    "version": "version not set"
  },
  "schemes": [
    "http",
    "https"
  ],
  "consumes": [
    "application/json"
  ],
  "produces": [
    "application/json"
  ],
  "paths": {
    "/btc/{network}/*": {
      "get": {
        "operationId": "ChainEndpoint",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/btcBlockchain"
            }
          }
        },
        "parameters": [
          {
            "name": "network",
            "in": "path",
            "required": true,
            "type": "string"
          }
        ],
        "tags": [
          "BlockchainService"
        ]
      }
    },
    "/btc/{network}/blocks/{block_hash}": {
      "get": {
        "operationId": "BlockHashEndpoint",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/btcBlock"
            }
          }
        },
        "parameters": [
          {
            "name": "network",
            "in": "path",
            "required": true,
            "type": "string"
          },
          {
            "name": "block_hash",
            "in": "path",
            "required": true,
            "type": "string"
          }
        ],
        "tags": [
          "BlockchainService"
        ]
      }
    },
    "/btc/{network}/blocks/{block_height}": {
      "get": {
        "operationId": "BlockHeightEndpoint",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/btcBlock"
            }
          }
        },
        "parameters": [
          {
            "name": "network",
            "in": "path",
            "required": true,
            "type": "string"
          },
          {
            "name": "block_height",
            "in": "path",
            "required": true,
            "type": "integer",
            "format": "int32"
          }
        ],
        "tags": [
          "BlockchainService"
        ]
      }
    },
    "/btc/{network}/feature/{name}": {
      "get": {
        "operationId": "FeatureEndpoint",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/btcFeature"
            }
          }
        },
        "parameters": [
          {
            "name": "network",
            "in": "path",
            "required": true,
            "type": "string"
          },
          {
            "name": "name",
            "in": "path",
            "required": true,
            "type": "string"
          }
        ],
        "tags": [
          "BlockchainService"
        ]
      }
    }
  },
  "definitions": {
    "btcBlock": {
      "type": "object",
      "properties": {
        "hash": {
          "type": "string",
          "title": "The hash of the block; in Bitcoin, the hashing function is SHA256(SHA256(block))"
        },
        "height": {
          "type": "integer",
          "format": "int32",
          "description": "The height of the block in the blockchain; i.e., there are height earlier blocks in its blockchain."
        },
        "depth": {
          "type": "integer",
          "format": "int32",
          "description": "The depth of the block in the blockchain; i.e., there are depth later blocks in its blockchain."
        },
        "network": {
          "type": "string",
          "title": "The name of the blockchain represented, in the form of $COIN.$CHAIN"
        },
        "total": {
          "type": "integer",
          "format": "int32",
          "description": "The total number of satoshis transacted in this block."
        },
        "fees": {
          "type": "integer",
          "format": "int32",
          "description": "The total number of fees—in satoshis—collected by miners in this block."
        },
        "size": {
          "type": "integer",
          "format": "int32",
          "description": "Optional Raw size of block (including header and all transactions) in bytes. Not returned for bitcoin blocks earlier than height 389104."
        },
        "ver": {
          "type": "integer",
          "format": "int32",
          "description": "Block version."
        },
        "time": {
          "type": "string",
          "description": "Recorded time at which block was built. Note: Miners rarely post accurate clock times."
        },
        "received_time": {
          "type": "string",
          "description": "The time Block’s servers receive the block. Our servers’ clock is continuously adjusted and accurate."
        },
        "relayed_by": {
          "type": "string",
          "description": "Address of the peer that sent Block’s servers this block."
        },
        "bits": {
          "type": "integer",
          "format": "int32",
          "description": "The block-encoded difficulty target."
        },
        "nonce": {
          "type": "integer",
          "format": "int32",
          "description": "The number used by a miner to generate this block."
        },
        "n_tx": {
          "type": "integer",
          "format": "int32",
          "description": "Number of transactions in this block."
        },
        "prev_block": {
          "type": "string",
          "description": "The hash of the previous block in the blockchain."
        },
        "prev_block_url": {
          "type": "string",
          "description": "The Block URL to query for more information on the previous block."
        },
        "tx_url": {
          "type": "string",
          "description": "The base Block URL to receive transaction details. To get more details about specific transactions, you must concatenate this URL with the desired transaction hash(es)."
        },
        "mrkl_root": {
          "type": "string",
          "description": "The Merkle root of this block."
        },
        "txids": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "description": "An array of transaction hashes in this block. By default, only 20 are included."
        },
        "next_txids": {
          "type": "string",
          "description": "Optional If there are more transactions that couldn’t fit in the txids array, this is the Block URL to query the next set of transactions (within a Block object)."
        }
      }
    },
    "btcBlockchain": {
      "type": "object",
      "properties": {
        "name": {
          "type": "string",
          "description": "The name of the blockchain represented, in the form of $COIN.$CHAIN."
        },
        "height": {
          "type": "integer",
          "format": "int32",
          "description": "The current height of the blockchain; i.e., the number of blocks in the blockchain."
        },
        "hash": {
          "type": "string",
          "description": "The hash of the latest confirmed block in the blockchain; in Bitcoin, the hashing function is SHA256(SHA256(block))."
        },
        "time": {
          "type": "string",
          "description": "The time of the latest update to the blockchain; typically when the latest block was added."
        },
        "latest_url": {
          "type": "string",
          "description": "The Block URL to query for more information on the latest confirmed block; returns a Block."
        },
        "previous_hash": {
          "type": "string",
          "description": "The hash of the second-to-latest confirmed block in the blockchain."
        },
        "previous_url": {
          "type": "string",
          "description": "The Block URL to query for more information on the second-to-latest confirmed block; returns a Block."
        },
        "peer_count": {
          "type": "integer",
          "format": "int32",
          "description": "N/A, will be deprecated soon."
        },
        "high_fee_per_kb": {
          "type": "integer",
          "format": "int32",
          "description": "A rolling average of the fee (in satoshis) paid per kilobyte for transactions to be confirmed within 1 to 2 blocks."
        },
        "medium_fee_per_kb": {
          "type": "integer",
          "format": "int32",
          "description": "A rolling average of the fee (in satoshis) paid per kilobyte for transactions to be confirmed within 3 to 6 blocks."
        },
        "low_fee_per_kb": {
          "type": "integer",
          "format": "int32",
          "description": "A rolling average of the fee (in satoshis) paid per kilobyte for transactions to be confirmed in 7 or more blocks."
        },
        "unconfirmed_count": {
          "type": "integer",
          "format": "int32",
          "description": "Number of unconfirmed transactions in memory pool (likely to be included in next block)."
        },
        "last_fork_height": {
          "type": "integer",
          "format": "int32",
          "description": "Optional The current height of the latest fork to the blockchain; when no competing blockchain fork present, not returned with endpoints that return Blockchains."
        },
        "last_fork_hash": {
          "type": "string",
          "description": "Optional The hash of the latest confirmed block in the latest fork of the blockchain; when no competing blockchain fork present, not returned with endpoints that return Blockchains."
        }
      }
    },
    "btcFeature": {
      "type": "object",
      "properties": {
        "network": {
          "type": "string"
        },
        "name": {
          "type": "string"
        },
        "state": {
          "type": "string"
        },
        "last_transition_height": {
          "type": "string",
          "format": "int64"
        },
        "last_transition_hash": {
          "type": "string"
        }
      }
    }
  }
}
